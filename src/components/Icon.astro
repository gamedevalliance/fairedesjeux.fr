---
    import { readFile } from 'node:fs/promises'

    export interface Props {
        src: string
    }

    const { src } = Astro.props as Props

    // PERF: This isn't cached, which means it's currently reading the same files twice per page. Not so good
    const svgCode = await readFile(src.replace('/_astro/', ''))
---

{ svgCode }

<style>
    svg {
        display: inline-block;
        font-size: inherit;
        height: 1em;
        overflow: visible;
        vertical-align: -.125em;
    }
</style>
